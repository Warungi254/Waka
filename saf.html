<!DOCTYPE html>
<html>
<head>
  <title>Fetch Example with Proxy</title>
</head>
<body>
  <h1>Fetch Example with Proxy</h1>
  <button onclick="getVendors()">Get Vendors</button>

  <script>
    function getVendors() {
      const proxyUrl = 'https://cors-anywhere.herokuapp.com/';
      const targetUrl = 'https://api.olabet.co.mz/addmachine';
      const payload = {
        operation: 'getallvendors'
      };

      fetch(proxyUrl + targetUrl, {
        method: 'POST',
        headers: {
          'Content-Type': 'application/json'
        },
        body: JSON.stringify(payload)
      })
      .then(response => response.json())
      .then(data => {
        console.log(data);
        alert('Vendors retrieved! Check the console for details.');
      })
      .catch(error => {
        console.error(error);
        alert('An error occurred while retrieving vendors.');
      });
    }
  </script>
</body>
</html>